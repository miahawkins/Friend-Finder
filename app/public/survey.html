<!DOCTYPE html>
<html>

<head>
    <title>Friend Finder</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  	
</head>

<body>
    <div class="container">
        <section class="content">
            <div class="main">
                <header>
                    <h1>Survey Questions</h1>
                </header>
                <br>
                <div class="questions">
                    <h3>About You</h3>
                    <p>_______________________________________________</p>
                    <div class="input">
                        <h5>Name (Required)</h5>
                        <input type="text" class="validate" placeholder="Your Name Here" id="userName">
                    </div>
                    <div class="input">
                        <h5>Link to Photo Image (Required)</h5>
                        <input type="text" class="validate" placeholder="Photo Link Here" id="userPhoto">
                    </div>
                    <br>
                    <p>_______________________________________________</p>
                    <form action="/action????">
                        <div class="input">
                            <h3>Question 1</h3>
                            <h5>You find it difficult to introduce yourself to other people.</h5>
                            <select id="question1">
                                <option value="" disabled selected>Choose your option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                        </div>
                        <br>
                        <div class="input">
                            <h3>Question 2</h3>
                            <h5>You do not usually initiate conversations.</h5>
                            <select id="question2">
                                <option value="" disabled selected>Choose your option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                        </div>
                        <br>
                        <div class="input">
                            <h3>Question 3</h3>
                            <h5>Winning a debate matters less to you than making sure no one gets upset.</h5>
                            <select id="question3">
                                <option value="" disabled selected>Choose your option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                        </div>
                        <br>
                        <div class="input">
                            <h3>Question 4</h3>
                            <h5>You do not mind being at the center of attention.</h5>
                            <select id="question4">
                                <option value="" disabled selected>Choose your option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                        </div>
                        <br>
                        <div class="input">
                            <h3>Question 5</h3>
                            <h5>An interesting book or a video game is often better than a social event.</h5>
                            <select id="question5">
                                <option value="" disabled selected>Choose your option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                        </div>
                        <br>
                        <div class="input">
                            <h3>Question 6</h3>
                            <h5>You would rather improvise than spend time coming up with a detailed plan.</h5>
                            <select id="question6">
                                <option value="" disabled selected>Choose your option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                        </div>
                        <br>
                        <div class="input">
                            <h3>Question 7</h3>
                            <h5>Keeping your options open is more important than having a to-do list.</h5>
                            <select id="question7">
                                <option value="" disabled selected>Choose your option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                        </div>
                        <br>
                        <div class="input">
                            <h3>Question 8</h3>
                            <h5>You feel more energetic after spending time with a group of people.</h5>
                            <select id="question8">
                                <option value="" disabled selected>Choose your option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                        </div>
                        <br>
                        <div class="input">
                            <h3>Question 9</h3>
                            <h5>You worry too much about what other people think.</h5>
                            <select id="question9">
                                <option value="" disabled selected>Choose your option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                        </div>
                        <br>
                        <div class="input">
                            <h3>Question 10</h3>
                            <h5>You often take initiative in social situations.</h5>
                            <select id="question10">
                                <option value="" disabled selected>Choose your option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                        </div>
                    </form>
                    <br>
                    <p>_______________________________________________</p>
                    <button type="button" id="doneButton" class="btn btn-info">Results</button>
                    <br>
                    <p>_______________________________________________</p>
                </div>
        </section>
        <br>
        <div class="linkLogo">
            <a href="/" >Friend Finder</a>
            <ul id="links">
                <li><a href="/survey">Survey</a></li>
                <li><a href="/api/friends">API Friends List</a></li>
                <li><a href="https://github.com/miahawkins/Friend-Finder">GitHub Repo</a></li>
            </ul>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Results</h4>
                    </div>
                    <!-- Modal body -->
                    <div class="modal-body">
                        <h5 id="userMatch"></h5>
                        <img src="" id="userMatchImage">
                    </div>
                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <a href="/survey" src=""><button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button></a>
                    </div>
                </div>
            </div>
        </div>

        </div>
    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript">
    // Activate submit button
    $("#doneButton").on("click", function(event) {
        event.preventDefault();
        // Gather user inputs
        var userInput = {
            name: $("#userName").val().trim(),
            photo: $("#userPhoto").val().trim(),
            scores: [
                parseInt($("#question1").val().trim()),
                parseInt($("#question2").val().trim()),
                parseInt($("#question3").val().trim()),
                parseInt($("#question4").val().trim()),
                parseInt($("#question5").val().trim()),
                parseInt($("#question6").val().trim()),
                parseInt($("#question7").val().trim()),
                parseInt($("#question8").val().trim()),
                parseInt($("#question9").val().trim()),
                parseInt($("#question10").val().trim())
            ]
        };
        $.post("/api/friends", userInput)
            .done(function(data) {
                // JSON.stringify(data);
                console.log(data);
                // Set the name and image values of friend match
                $("#userMatch").text(data.resultName);
                console.log(data.name);
                $("#userMatchImage").attr("src", data.resultPic);
                console.log(data.photo);
                $("#myModal").modal({show: true});
            });
    });
    
    </script>
</body>

</html>